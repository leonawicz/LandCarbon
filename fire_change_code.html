<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Matthew Leonawicz" />


<title>R code: Projected fire change 2000 - 2099</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="libs/bootstrap-2.3.2/css/united.min.css" rel="stylesheet" />
<link href="libs/bootstrap-2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
<script src="libs/bootstrap-2.3.2/js/bootstrap.min.js"></script>
<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}
@media (max-width: 979px) {
  body {
    padding-top: 0;
  }
}

/* offset scroll position for anchor links (for fixed navbar)  */
@media (min-width: 980px) {
  .section h2 {
    padding-top: 52px;
    margin-top: -52px;
  }
  .section h3 {
    padding-top: 52px;
    margin-top: -52px;
  }
}


/* don't use link color in navbar */
.dropdown-menu>li>a {
  color: black;
}

/* some padding for disqus */
#disqus_thread {
  margin-top: 45px;
}

</style>

<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #303030; color: #cccccc; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #cccccc; background-color: #303030; }
code > span.kw { color: #f0dfaf; }
code > span.dt { color: #dfdfbf; }
code > span.dv { color: #dcdccc; }
code > span.bn { color: #dca3a3; }
code > span.fl { color: #c0bed1; }
code > span.ch { color: #dca3a3; }
code > span.st { color: #cc9393; }
code > span.co { color: #7f9f7f; }
code > span.ot { color: #efef8f; }
code > span.al { color: #ffcfaf; }
code > span.fu { color: #efef8f; }
code > span.er { color: #c3bf9f; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="container-fluid main-container">

<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="brand" href="index.html">Land Carbon</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="dropdown">
            <a href="fire" class="dropdown-toggle" data-toggle="dropdown">Fire <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="nav-header">Model: CCCMA</li>
              <li><a href="baseline_fire_cccma.html">Baseline fire</a></li>
              <li><a href="fire_change_cccma.html">Projected change</a></li>
              <li class="divider"></li>
              <li class="nav-header">Model: ECHAM5</li>
              <li><a href="baseline_fire_echam.html">Baseline fire</a></li>
              <li><a href="fire_change_echam.html">Projected change</a></li>
            </ul>

          <li class="dropdown">
            <a href="vegetation" class="dropdown-toggle" data-toggle="dropdown">Vegetation <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="nav-header">Model: CCCMA</li>
              <li><a href="vegetation_change_cccma.html">Vegetation change</a></li>
              <li><a href="vegetation_trend_cccma.html">Vegetation trends</a></li>
              <li class="divider"></li>
              <li class="nav-header">Model: ECHAM5</li>
              <li><a href="vegetation_change_echam.html">Vegetation change</a></li>
              <li><a href="vegetation_trend_echam.html">Vegetation trends</a></li>
            </ul>

          <li class="dropdown">
            <a href="r-code" class="dropdown-toggle" data-toggle="dropdown">R Code <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li class="nav-header">Main code</li>
              <li><a href="baseline_fire_code.html">Baseline fire</a></li>
              <li><a href="fire_change_code.html">Projected fire</a></li>
              <li><a href="vegetation_change_code.html">Vegetation change</a></li>
              <li><a href="vegetation_trend_code.html">Vegetation trends</a></li>
            </ul>

          <li><a href="http://leonawicz.github.io">All Projects</a></li>
        </ul>
        <ul class="nav pull-right">
          <a class="btn btn-primary" href="https://github.com/leonawicz/LandCarbon">
            <i class="fa fa-github fa-lg"></i>
            Github
          </a>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>

<div id="header">
<h1 class="title">R code: Projected fire change 2000 - 2099</h1>
<h4 class="author"><em>Matthew Leonawicz</em></h4>
</div>


<p>Note that the code may contain seemingly unnecessary repetition across multiple code chunks. Sometimes I do this when using <code>knitr</code> to knit documents. If I was strictly outputing graphics files I would remove apparent duplicate code.</p>
<p>Also note in the <code>modnames &lt;-</code> assignment that the same script is simply run twice, once for each climate model. The amount of hardcoding present in general is indicative of the limited time available for the task.</p>
<p>Depending on whether the output documents are md/html or LaTeX/pdf, tables are compiled differently as well using <code>xtable</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">wd &lt;-<span class="st"> </span><span class="kw">basename</span>(<span class="kw">getwd</span>())
region.grp &lt;-<span class="st"> &quot;LCC Regions&quot;</span>
<span class="co"># mainDir &lt;-</span>
<span class="co"># &#39;/workspace/UA/mfleonawicz/Leonawicz/Projects/2014/AR4_AR5_comparisons/data/final&#39;</span>
mainDir &lt;-<span class="st"> &quot;X:/Leonawicz/Projects/2014/AR4_AR5_comparisons/data/final&quot;</span>
ak.statsFire.file &lt;-<span class="st"> </span><span class="kw">file.path</span>(mainDir, <span class="st">&quot;region_files_GCM/stats/Political/Alaska/stats_fire.RData&quot;</span>)
<span class="co"># ak.samples.file &lt;- file.path(mainDir,</span>
<span class="co"># &#39;region_files_GCM/samples/Political/Alaska/xxxxxxxxxxxx.RData&#39;)</span>
<span class="co"># load(file.path(mainDir, &#39;meta.RData&#39;))</span>
<span class="kw">load</span>(<span class="st">&quot;C:/github/shiny-apps/cmip3_cmip5/external/meta.RData&quot;</span>)
statDir &lt;-<span class="st"> </span><span class="kw">file.path</span>(mainDir, <span class="st">&quot;region_files_GCM/stats&quot;</span>, region.grp)
sampDir &lt;-<span class="st"> </span><span class="kw">file.path</span>(mainDir, <span class="st">&quot;region_files_GCM/samples&quot;</span>, region.grp)
<span class="kw">library</span>(reshape2)
<span class="kw">library</span>(plyr)
<span class="kw">library</span>(xtable)</code></pre>
<div id="projected-fire-change-tables" class="section level2">
<h2>Projected fire change tables</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Projected wildland fire change, Table 8.1</span>
years.all &lt;-<span class="st"> </span><span class="dv">2000</span>:<span class="dv">2099</span>
years &lt;-<span class="st"> </span><span class="kw">range</span>(years.all)
years1 &lt;-<span class="st"> </span><span class="dv">2000</span>:<span class="dv">2009</span>
years2 &lt;-<span class="st"> </span><span class="dv">2090</span>:<span class="dv">2099</span>
modnames &lt;-<span class="st"> &quot;CCCMAcgcm31&quot;</span>  <span class="co"># &#39;MPIecham5&#39; # </span>
keep.cols &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>:stats.columns[<span class="dv">1</span>], stats.columns[<span class="dv">1</span>] +<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>), (<span class="kw">tail</span>(stats.columns, 
    <span class="dv">1</span>) +<span class="st"> </span><span class="dv">1</span>):<span class="kw">ncol</span>(alf.fireStats.df))
files &lt;-<span class="st"> </span><span class="kw">list.files</span>(statDir, <span class="dt">pattern =</span> <span class="st">&quot;^stats_fire.RData$&quot;</span>, <span class="dt">full =</span> <span class="ot">TRUE</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)
files &lt;-<span class="st"> </span><span class="kw">c</span>(files, ak.statsFire.file)
regions &lt;-<span class="st"> </span><span class="kw">basename</span>(<span class="kw">dirname</span>(files))
for (i in <span class="dv">1</span>:<span class="kw">length</span>(files)) {
    <span class="kw">load</span>(files[i])
    alf.fireStats.df$Location &lt;-<span class="st"> </span>regions[i]
    alf.fireStats.df[, stats.columns] &lt;-<span class="st"> </span>region.dat
    if (i ==<span class="st"> </span><span class="dv">1</span>) 
        d &lt;-<span class="st"> </span>alf.fireStats.df else d &lt;-<span class="st"> </span><span class="kw">rbind</span>(d, alf.fireStats.df)
}
<span class="kw">rm</span>(region.dat)

d &lt;-<span class="st"> </span><span class="kw">subset</span>(d, Model %in%<span class="st"> </span>modnames)
d$Location &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot; S&quot;</span>, <span class="st">&quot; South&quot;</span>, <span class="kw">gsub</span>(<span class="st">&quot; N&quot;</span>, <span class="st">&quot; North&quot;</span>, <span class="kw">gsub</span>(<span class="st">&quot;W &quot;</span>, <span class="st">&quot;Western &quot;</span>, 
    <span class="kw">gsub</span>(<span class="st">&quot;N &quot;</span>, <span class="st">&quot;North &quot;</span>, <span class="kw">gsub</span>(<span class="st">&quot;NW &quot;</span>, <span class="st">&quot;Northwest &quot;</span>, d$Location)))))  <span class="co"># Special name changes</span>
regions &lt;-<span class="st"> </span><span class="kw">unique</span>(d$Location[d$Location !=<span class="st"> &quot;Alaska&quot;</span>])
reg.split2 &lt;-<span class="st"> </span>reg.split &lt;-<span class="st"> </span>regions[<span class="dv">2</span>:<span class="dv">5</span>]
reg.split2[<span class="dv">1</span>] &lt;-<span class="st"> &quot;</span><span class="ch">\\\\</span><span class="st">parbox[t]{3cm}{</span><span class="ch">\\\\</span><span class="st">centering North</span><span class="ch">\\\\\\\\</span><span class="st">Pacific}&quot;</span>
reg.split2[<span class="dv">2</span>] &lt;-<span class="st"> &quot;</span><span class="ch">\\\\</span><span class="st">parbox[t]{3cm}{</span><span class="ch">\\\\</span><span class="st">centering Northwest Interior</span><span class="ch">\\\\\\\\</span><span class="st">Forest North}&quot;</span>
reg.split2[<span class="dv">3</span>] &lt;-<span class="st"> &quot;</span><span class="ch">\\\\</span><span class="st">parbox[t]{3cm}{</span><span class="ch">\\\\</span><span class="st">centering Northwest Interior</span><span class="ch">\\\\\\\\</span><span class="st">Forest South}&quot;</span>
reg.split2[<span class="dv">4</span>] &lt;-<span class="st"> &quot;</span><span class="ch">\\\\</span><span class="st">parbox[t]{3cm}{</span><span class="ch">\\\\</span><span class="st">centering Western</span><span class="ch">\\\\\\\\</span><span class="st">Alaska}&quot;</span>

<span class="kw">levels</span>(d$Scenario) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;SRES B1&quot;</span>, <span class="st">&quot;SRES A1B&quot;</span>, <span class="st">&quot;SRES A2&quot;</span>)
d.all &lt;-<span class="st"> </span><span class="kw">subset</span>(d, Year %in%<span class="st"> </span>years.all, <span class="dt">select =</span> keep.cols)
d1 &lt;-<span class="st"> </span><span class="kw">subset</span>(d, Year %in%<span class="st"> </span>years1, <span class="dt">select =</span> keep.cols)
d2 &lt;-<span class="st"> </span><span class="kw">subset</span>(d, Year %in%<span class="st"> </span>years2, <span class="dt">select =</span> keep.cols)
<span class="co"># d.agg1 &lt;- ddply(d, c(&#39;Scenario&#39;, &#39;Location&#39;, &#39;Vegetation&#39;, &#39;Year&#39;,</span>
<span class="co"># &#39;Decade&#39;), summarise, Avg=mean(Mean)) d.agg2 &lt;- ddply(d2, c(&#39;Scenario&#39;,</span>
<span class="co"># &#39;Location&#39;, &#39;Vegetation&#39;, &#39;Year&#39;, &#39;Decade&#39;), summarise, Avg=mean(Mean))</span>

d.all.agg1 &lt;-<span class="st"> </span><span class="kw">ddply</span>(d.all, <span class="kw">c</span>(<span class="st">&quot;Scenario&quot;</span>, <span class="st">&quot;Var&quot;</span>, <span class="st">&quot;Location&quot;</span>, <span class="st">&quot;Decade&quot;</span>), summarise, 
    <span class="dt">ZZZ5th =</span> <span class="kw">quantile</span>(Pct_05, <span class="dt">probs =</span> <span class="fl">0.05</span>), <span class="dt">ZZZ50th =</span> <span class="kw">median</span>(Pct_50), <span class="dt">ZZZ95th =</span> <span class="kw">quantile</span>(Pct_95, 
        <span class="dt">probs =</span> <span class="fl">0.95</span>))

hack_plot &lt;-<span class="st"> </span>function(d, type, <span class="dt">add.legend =</span> <span class="ot">FALSE</span>) {
    if (type ==<span class="st"> &quot;FC&quot;</span>) 
        ylb &lt;-<span class="st"> &quot;Number of wildland fires per year&quot;</span> else if (type ==<span class="st"> &quot;AB&quot;</span>) 
        ylb &lt;-<span class="st"> </span><span class="kw">expression</span>(<span class="st">&quot;Area burned per year (1000&quot;</span> ~<span class="st"> </span>km^<span class="dv">2</span> ~<span class="st"> &quot;)&quot;</span>)
    if (type ==<span class="st"> &quot;AB&quot;</span>) 
        m &lt;-<span class="st"> </span><span class="dv">1000</span> else m &lt;-<span class="st"> </span><span class="dv">1</span>
    scen &lt;-<span class="st"> </span><span class="kw">levels</span>(d$Scenario)
    n &lt;-<span class="st"> </span><span class="kw">length</span>(scen)
    scen.colors &lt;-<span class="st"> </span><span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="st">&quot;lightgreen&quot;</span>, <span class="st">&quot;dodgerblue&quot;</span>, <span class="st">&quot;magenta&quot;</span>))(n)
    decs &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">unique</span>(d$Decade))
    <span class="kw">plot</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dt">xlim =</span> <span class="kw">range</span>(decs), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(d$ZZZ95th/m)), <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, 
        <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">ylab =</span> ylb, <span class="dt">las =</span> <span class="dv">1</span>)
    for (i in <span class="dv">1</span>:n) {
        d2 &lt;-<span class="st"> </span><span class="kw">subset</span>(d, Scenario ==<span class="st"> </span>scen[i])
        <span class="kw">lines</span>(decs, d2$ZZZ5th/m, <span class="dt">col =</span> scen.colors[i], <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">lty =</span> <span class="dv">3</span>)
        <span class="kw">lines</span>(decs, d2$ZZZ95th/m, <span class="dt">col =</span> scen.colors[i], <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">lty =</span> <span class="dv">3</span>)
        <span class="kw">lines</span>(decs, d2$ZZZ50th/m, <span class="dt">col =</span> scen.colors[i], <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">lty =</span> <span class="dv">1</span>)
    }
    if (add.legend) {
        <span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>))
        <span class="kw">plot</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dt">axes =</span> F, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Climate-change scenario&quot;</span>, 
            <span class="dt">cex.main =</span> <span class="fl">0.7</span>)
        <span class="kw">legend</span>(<span class="st">&quot;bottom&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;5th/95th</span><span class="ch">\n</span><span class="st">Percentile&quot;</span>, <span class="st">&quot;Median&quot;</span>), <span class="dt">title =</span> scen[<span class="dv">1</span>], 
            <span class="dt">lty =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>), <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">col =</span> scen.colors[<span class="dv">1</span>], <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">cex =</span> <span class="fl">0.8</span>, 
            <span class="dt">seg.len =</span> <span class="dv">3</span>)
        <span class="kw">legend</span>(<span class="st">&quot;center&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;5th/95th</span><span class="ch">\n</span><span class="st">Percentile&quot;</span>, <span class="st">&quot;Median&quot;</span>), <span class="dt">title =</span> scen[<span class="dv">2</span>], 
            <span class="dt">lty =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>), <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">col =</span> scen.colors[<span class="dv">2</span>], <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">cex =</span> <span class="fl">0.8</span>, 
            <span class="dt">seg.len =</span> <span class="dv">3</span>)
        <span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;5th/95th</span><span class="ch">\n</span><span class="st">Percentile&quot;</span>, <span class="st">&quot;Median&quot;</span>), <span class="dt">title =</span> scen[<span class="dv">3</span>], 
            <span class="dt">lty =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>), <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">col =</span> scen.colors[<span class="dv">3</span>], <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">cex =</span> <span class="fl">0.8</span>, 
            <span class="dt">seg.len =</span> <span class="dv">3</span>)
    }
}

d1.agg1 &lt;-<span class="st"> </span><span class="kw">ddply</span>(d1, <span class="kw">c</span>(<span class="st">&quot;Scenario&quot;</span>, <span class="st">&quot;Var&quot;</span>, <span class="st">&quot;Location&quot;</span>), summarise, <span class="dt">ZZZ50th =</span> <span class="kw">median</span>(Pct_50), 
    <span class="dt">ZZZ95th =</span> <span class="kw">quantile</span>(Pct_95, <span class="dt">probs =</span> <span class="fl">0.95</span>))
d2.agg1 &lt;-<span class="st"> </span><span class="kw">ddply</span>(d2, <span class="kw">c</span>(<span class="st">&quot;Scenario&quot;</span>, <span class="st">&quot;Var&quot;</span>, <span class="st">&quot;Location&quot;</span>), summarise, <span class="dt">ZZZ50th =</span> <span class="kw">median</span>(Pct_50), 
    <span class="dt">ZZZ95th =</span> <span class="kw">quantile</span>(Pct_95, <span class="dt">probs =</span> <span class="fl">0.95</span>))

morph_df &lt;-<span class="st"> </span>function(d) {
    d &lt;-<span class="st"> </span><span class="kw">melt</span>(d, <span class="dt">id.vars =</span> <span class="kw">c</span>(<span class="st">&quot;Scenario&quot;</span>, <span class="st">&quot;Var&quot;</span>, <span class="st">&quot;Location&quot;</span>))
    d &lt;-<span class="st"> </span><span class="kw">dcast</span>(d, Scenario +<span class="st"> </span>Location +<span class="st"> </span>variable ~<span class="st"> </span>Var)[, -<span class="dv">2</span>][<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>)]
    <span class="kw">names</span>(d) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Climate-change scenario&quot;</span>, <span class="st">&quot;Percentile&quot;</span>, <span class="st">&quot;Ignitions&quot;</span>, <span class="st">&quot;Area burned&quot;</span>)
    d$Percentile &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;ZZZ&quot;</span>, <span class="st">&quot;&quot;</span>, d$Percentile)
    d[<span class="st">&quot;Area burned&quot;</span>] &lt;-<span class="st"> </span><span class="kw">round</span>(d[<span class="st">&quot;Area burned&quot;</span>])
    d
}

org_prop_df &lt;-<span class="st"> </span>function(d1, d2) {
    d &lt;-<span class="st"> </span>d1
    d[<span class="st">&quot;Ignitions&quot;</span>] &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="dv">100</span> *<span class="st"> </span>(d2[<span class="st">&quot;Ignitions&quot;</span>]/d1[<span class="st">&quot;Ignitions&quot;</span>] -<span class="st"> </span><span class="dv">1</span>), <span class="dv">2</span>)
    d[<span class="st">&quot;Area burned&quot;</span>] &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="dv">100</span> *<span class="st"> </span>(d2[<span class="st">&quot;Area burned&quot;</span>]/d1[<span class="st">&quot;Area burned&quot;</span>] -<span class="st"> </span><span class="dv">1</span>), 
        <span class="dv">2</span>)
    ind &lt;-<span class="st"> </span><span class="kw">which</span>(<span class="kw">is.nan</span>(d$Ignitions) |<span class="st"> </span><span class="kw">is.na</span>(d$Ignitions))
    if (<span class="kw">length</span>(ind)) {
        d$Ignitions[ind] &lt;-<span class="st"> </span>d[[<span class="st">&quot;Area burned&quot;</span>]][ind] &lt;-<span class="st"> &quot;-&quot;</span>
    }
    d
}

print_tab &lt;-<span class="st"> </span>function(d) {
    <span class="kw">print</span>(d, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">print.results =</span> <span class="ot">FALSE</span>, <span class="dt">include.rownames =</span> <span class="ot">FALSE</span>, 
        <span class="dt">add.to.row =</span> <span class="kw">list</span>(<span class="dt">pos =</span> <span class="kw">list</span>(-<span class="dv">1</span>), <span class="dt">command =</span> <span class="kw">c</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">headcol </span><span class="ch">\n</span><span class="st">&quot;</span>)  <span class="co">#, &#39;\\midrule \n\\rowcol \\multicolumn{7}{c}{Number of wildfires per year} \\\\ \n&#39;)</span>
))
}

######################################################################################################### </code></pre>
<div id="alaska" class="section level3">
<h3>Alaska</h3>
<div id="historical-fire" class="section level4">
<h4>Historical fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">d1.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d1.agg1, Location ==<span class="st"> &quot;Alaska&quot;</span>))
d2.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d2.agg1, Location ==<span class="st"> &quot;Alaska&quot;</span>))
d.prop &lt;-<span class="st"> </span><span class="kw">org_prop_df</span>(d1.agg1.sub, d2.agg1.sub)
d1.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d1.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d1.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d2.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d2.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d.diff.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d.prop, <span class="dt">digits =</span> <span class="dv">1</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
<span class="co"># names(d.diff.tab)[3:4] &lt;- paste(&#39;% change in&#39;,</span>
<span class="co"># tolower(names(d.diff.tab)[3:4]))</span>
if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d1.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d1.tab)</code></pre>
</div>
<div id="projected-fire" class="section level4">
<h4>Projected fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d2.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d2.tab)</code></pre>
</div>
<div id="percent-change" class="section level4">
<h4>Percent change</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d.diff.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d.diff.tab)</code></pre>
</div>
</div>
<div id="arctic" class="section level3">
<h3>Arctic</h3>
<div id="historical-fire-1" class="section level4">
<h4>Historical fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">d1.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d1.agg1, Location ==<span class="st"> </span>regions[<span class="dv">1</span>]))
d2.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d2.agg1, Location ==<span class="st"> </span>regions[<span class="dv">1</span>]))
d.prop &lt;-<span class="st"> </span><span class="kw">org_prop_df</span>(d1.agg1.sub, d2.agg1.sub)
d1.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d1.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d1.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d2.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d2.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d.diff.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d.prop, <span class="dt">digits =</span> <span class="dv">1</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d1.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d1.tab)</code></pre>
</div>
<div id="projected-fire-1" class="section level4">
<h4>Projected fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d2.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d2.tab)</code></pre>
</div>
<div id="percent-change-1" class="section level4">
<h4>Percent change</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d.diff.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d.diff.tab)</code></pre>
</div>
</div>
<div id="north-pacific" class="section level3">
<h3>North Pacific</h3>
<div id="historical-fire-2" class="section level4">
<h4>Historical fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">d1.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d1.agg1, Location ==<span class="st"> </span>regions[<span class="dv">2</span>]))
d2.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d2.agg1, Location ==<span class="st"> </span>regions[<span class="dv">2</span>]))
d.prop &lt;-<span class="st"> </span><span class="kw">org_prop_df</span>(d1.agg1.sub, d2.agg1.sub)
d1.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d1.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d1.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d2.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d2.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d.diff.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d.prop, <span class="dt">digits =</span> <span class="dv">1</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d1.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d1.tab)</code></pre>
</div>
<div id="projected-fire-2" class="section level4">
<h4>Projected fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d2.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d2.tab)</code></pre>
</div>
<div id="percent-change-2" class="section level4">
<h4>Percent change</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d.diff.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d.diff.tab)</code></pre>
</div>
</div>
<div id="northwest-interior-forest-north" class="section level3">
<h3>Northwest Interior Forest North</h3>
<div id="historical-fire-3" class="section level4">
<h4>Historical fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">d1.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d1.agg1, Location ==<span class="st"> </span>regions[<span class="dv">3</span>]))
d2.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d2.agg1, Location ==<span class="st"> </span>regions[<span class="dv">3</span>]))
d.prop &lt;-<span class="st"> </span><span class="kw">org_prop_df</span>(d1.agg1.sub, d2.agg1.sub)
d1.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d1.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d1.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d2.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d2.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d.diff.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d.prop, <span class="dt">digits =</span> <span class="dv">1</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d1.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d1.tab)</code></pre>
</div>
<div id="projected-fire-3" class="section level4">
<h4>Projected fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d2.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d2.tab)</code></pre>
</div>
<div id="percent-change-3" class="section level4">
<h4>Percent change</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d.diff.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d.diff.tab)</code></pre>
</div>
</div>
<div id="northwest-interior-forest-south" class="section level3">
<h3>Northwest Interior Forest South</h3>
<div id="historical-fire-4" class="section level4">
<h4>Historical fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">d1.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d1.agg1, Location ==<span class="st"> </span>regions[<span class="dv">4</span>]))
d2.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d2.agg1, Location ==<span class="st"> </span>regions[<span class="dv">4</span>]))
d.prop &lt;-<span class="st"> </span><span class="kw">org_prop_df</span>(d1.agg1.sub, d2.agg1.sub)
d1.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d1.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d1.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d2.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d2.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d.diff.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d.prop, <span class="dt">digits =</span> <span class="dv">1</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d1.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d1.tab)</code></pre>
</div>
<div id="projected-fire-4" class="section level4">
<h4>Projected fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d2.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d2.tab)</code></pre>
</div>
<div id="percent-change-4" class="section level4">
<h4>Percent change</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d.diff.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d.diff.tab)</code></pre>
</div>
</div>
<div id="western-alaska" class="section level3">
<h3>Western Alaska</h3>
<div id="historical-fire-5" class="section level4">
<h4>Historical fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">d1.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d1.agg1, Location ==<span class="st"> </span>regions[<span class="dv">5</span>]))
d2.agg1.sub &lt;-<span class="st"> </span><span class="kw">morph_df</span>(<span class="kw">subset</span>(d2.agg1, Location ==<span class="st"> </span>regions[<span class="dv">5</span>]))
d.prop &lt;-<span class="st"> </span><span class="kw">org_prop_df</span>(d1.agg1.sub, d2.agg1.sub)
d1.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d1.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d1.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d2.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d2.agg1.sub, <span class="dt">digits =</span> <span class="dv">0</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
d.diff.tab &lt;-<span class="st"> </span><span class="kw">xtable</span>(d.prop, <span class="dt">digits =</span> <span class="dv">1</span>, <span class="dt">align =</span> <span class="kw">c</span>(<span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="kw">rep</span>(<span class="st">&quot;c&quot;</span>, <span class="kw">ncol</span>(d2.agg1.sub) -<span class="st"> </span>
<span class="st">    </span><span class="dv">1</span>)))
if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d1.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d1.tab)</code></pre>
</div>
<div id="projected-fire-5" class="section level4">
<h4>Projected fire</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d2.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d2.tab)</code></pre>
</div>
<div id="percent-change-5" class="section level4">
<h4>Percent change</h4>
<pre class="sourceCode r"><code class="sourceCode r">if (wd ==<span class="st"> &quot;Rmd&quot;</span>) <span class="kw">print</span>(d.diff.tab, <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)
tmp &lt;-<span class="st"> </span><span class="kw">print_tab</span>(d.diff.tab)

######################################################################################################### </code></pre>
</div>
</div>
</div>
<div id="percentile-fire-trends-by-scenario" class="section level2">
<h2>Percentile fire trends by scenario</h2>
<div id="alaska-1" class="section level3">
<h3>Alaska</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Projected wildland fire change, figure 8.2</span>
d.all.agg1.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(d.all.agg1, Location ==<span class="st"> &quot;Alaska&quot;</span>)

<span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">nrow =</span> <span class="dv">1</span>))
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Fire Count&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;FC&quot;</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Burn Area&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;AB&quot;</span>, <span class="dt">add.legend =</span> <span class="ot">TRUE</span>)

<span class="co"># Projected wildland fire change, figure 8.3, continuing</span></code></pre>
</div>
<div id="arctic-1" class="section level3">
<h3>Arctic</h3>
<pre class="sourceCode r"><code class="sourceCode r">d.all.agg1.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(d.all.agg1, Location ==<span class="st"> </span>regions[<span class="dv">1</span>])

<span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">nrow =</span> <span class="dv">1</span>))
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Fire Count&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;FC&quot;</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Burn Area&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;AB&quot;</span>, <span class="dt">add.legend =</span> <span class="ot">TRUE</span>)</code></pre>
</div>
<div id="north-pacific-1" class="section level3">
<h3>North Pacific</h3>
<pre class="sourceCode r"><code class="sourceCode r">d.all.agg1.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(d.all.agg1, Location ==<span class="st"> </span>regions[<span class="dv">2</span>])

<span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">nrow =</span> <span class="dv">1</span>))
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Fire Count&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;FC&quot;</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Burn Area&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;AB&quot;</span>, <span class="dt">add.legend =</span> <span class="ot">TRUE</span>)</code></pre>
</div>
<div id="northwest-interior-forest-north-1" class="section level3">
<h3>Northwest Interior Forest North</h3>
<pre class="sourceCode r"><code class="sourceCode r">d.all.agg1.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(d.all.agg1, Location ==<span class="st"> </span>regions[<span class="dv">3</span>])

<span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">nrow =</span> <span class="dv">1</span>))
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Fire Count&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;FC&quot;</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Burn Area&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;AB&quot;</span>, <span class="dt">add.legend =</span> <span class="ot">TRUE</span>)</code></pre>
</div>
<div id="northwest-interior-forest-south-1" class="section level3">
<h3>Northwest Interior Forest South</h3>
<pre class="sourceCode r"><code class="sourceCode r">d.all.agg1.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(d.all.agg1, Location ==<span class="st"> </span>regions[<span class="dv">4</span>])

<span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">nrow =</span> <span class="dv">1</span>))
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Fire Count&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;FC&quot;</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Burn Area&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;AB&quot;</span>, <span class="dt">add.legend =</span> <span class="ot">TRUE</span>)</code></pre>
</div>
<div id="western-alaska-1" class="section level3">
<h3>Western Alaska</h3>
<pre class="sourceCode r"><code class="sourceCode r">d.all.agg1.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(d.all.agg1, Location ==<span class="st"> </span>regions[<span class="dv">5</span>])

<span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">nrow =</span> <span class="dv">1</span>))
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Fire Count&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;FC&quot;</span>)
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))
<span class="kw">hack_plot</span>(<span class="kw">subset</span>(d.all.agg1.sub, Var ==<span class="st"> &quot;Burn Area&quot;</span>), <span class="dt">type =</span> <span class="st">&quot;AB&quot;</span>, <span class="dt">add.legend =</span> <span class="ot">TRUE</span>)

<span class="co"># End figure 8.3</span></code></pre>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
